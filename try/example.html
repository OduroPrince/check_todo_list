<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="/styles/nav.css">
	<link rel="stylesheet" href="/styles/taskLayout.css">
</head>

<body>
	<div class="task_container">
		<h3 class="container_title">Tasks</h3>
		<div class="theContainer">
		  <!-- This is where each task will be displayed from the database -->
		  <div class="item_container" title="Created on: ${formateDate(docs.createdDate)}">
            <div data-id="${docs.id}" class="check-mark">
                <img src="images/icon-check.svg">
            </div>
            <div class="text-container">
                <p class="task_name">Go hiking</p>
                <div>
                    <label class="task_category">General</label> 
                    <label title= "Ends in: ${formatedDate(docs.endDate)}" class="task_endDate"><i>Due in: 2hrs</i></label>
                </div>           
            </div>
          <div title="Delete task" data-id="${docs.id}" class="delete-text ">
            <i class="fa-regular fa-trash-can fa-bounce fa-xl" style="color: #ff0000;"></i>
          </div>
        </div>
		</div>
  
		<form action="" class="addTask" onsubmit="addItem(event)">
		  <input type="text" id="task_input" placeholder="+   Add task" required>
		  <div class="category_part">
			<label for="">Category</label>
			<select id="categorySelect" required>
			  <option value="General">General</option>
			  <option value="Academic">Academic</option>
			  <option value="Religious">Religious</option>
			  <option value="Work">Work</option>
			  <option value="Home">Home</option>
			  <option value="Activity">Activity</option>
			</select>
		  </div>
		  <label class="date-input-label" for="date-input">End Date(optional)</label>
		  <input id="date-input" type="datetime-local">
		  <input type="email" placeholder="Collaborator's email address" required>
		  <input class="addBtn" type="submit" value="Add">
		</form>
  
	  </div>
</body>
<script>
	const now = new Date();
	const futureDate = new Date('2023-04-14T21:30:30');

	const diffInMs = futureDate - now;
	// const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
	const diffInMinutes = Math.floor(diffInMs / 60000);

	console.log(diffInMinutes);
	document.querySelector(".current").innerHTML = "Current Date: " + now;
	document.querySelector(".previous").innerHTML = "Future Date: " + futureDate;
	document.querySelector(".hours-left").innerHTML = "Time Left: " + convertTime(diffInMs);

	function convertTime(milliseconds) {
		let result;

		const minutes = milliseconds / 60000;

		if (minutes < 60) {
			result = `${Math.floor(minutes)} minutes`;
		} else if (minutes < 1440) {
			const hours = Math.floor(minutes / 60);
			const remainingMinutes = Math.floor(minutes % 60);
			result = `${hours} hour${hours !== 1 ? 's' : ''}, ${remainingMinutes} minute${remainingMinutes !== 1 ? 's' : ''}`;
		} else if (minutes < 525600) {
			const days = Math.floor(minutes / 1440);
			const remainingHours = Math.floor((minutes % 1440) / 60);
			result = `${days} day${days !== 1 ? 's' : ''}, ${remainingHours} hour${remainingHours !== 1 ? 's' : ''}`;
		} else {
			const years = Math.floor(minutes / 525600);
			const remainingMonths = Math.floor((minutes % 525600) / 43200);
			result = `${years} year${years !== 1 ? 's' : ''}, ${remainingMonths} month${remainingMonths !== 1 ? 's' : ''}`;
		}

		return result;
	}


</script>

</html>